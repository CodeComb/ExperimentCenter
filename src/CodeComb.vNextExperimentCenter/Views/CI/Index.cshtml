@model IEnumerable<CISet>
@{ 
    ViewBag.Title = "持续集成";
}

<div class="row">
    <div class="col-md-8 col-sm-12 col-md-offset-2">
        <div>
            <div class="error-block-inner">
                <h2>@ViewBag.Title</h2>
                <p>
                    <a asp-action="CreateCISet" asp-controller="CI"><i class="fa fa-plus-circle"></i> 创建项目集合</a>
                </p>
                @if (Model.Count() == 0)
                {
                    <p>您还没有创建过任何项目集合</p>
                }
                <div class="block-outer">
                    @foreach (var x in Model)
                    {
                        <div class="block blue">
                            <h2>@x.Title</h2>
                            <table class="detail-table">
                                <tr>
                                    <td>项目数</td>
                                    <td>创建日期</td>
                                    <td>上次构建时间</td>
                                </tr>
                                <tr>
                                    <td>@x.Projects.Count</td>
                                    <td>@x.CreationTime.ToString("yyyy-MM-dd")</td>
                                    <td>@(x.LastBuildingTime == null ? "N/A" : x.LastBuildingTime.Value.ToString("yyyy-MM-dd HH:mm:ss"))</td>
                                </tr>
                            </table>
                        </div>
                    }
                </div>
            </div>
        </div>
    </div>
</div>
